- name: Install piepel-releasep
  package:
    name: epel-release
    update_cache: yes
    state: present
    when: (ansible_facts['distribution'] == "CentOS")
- name: Install pip
  package:
    name: python-pip
    update_cache: yes
    state: present
- name: Install certain python modules for docker
  pip:
    name: docker-py
    state: present
- name: Init a new swarm with default parameters
  community.docker.docker_swarm:
    state: present